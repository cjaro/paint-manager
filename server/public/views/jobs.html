<div class="container">
  <script type="text/ng-template" id="group-template.html">
    <div class="panel-heading">
      <div class="panel-title" style="none">
        <a href tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading">
          <span uib-accordion-header ng-class="{'text-muted': isDisabled}">
            {{heading}}
          </span>
        </a>
      </div>
    </div>
    <div class="panel-collapse collapse" uib-collapse="!isOpen">
      <div class="panel-body" style="text-align: left" ng-transclude></div>
    </div>
  </script>


  <uib-accordion close-others = "true">

    <button class="btn btn-primary" id="inputButton" ng-click="jc.addJob(ac.newJob)">New Job</button>
    <table class="table">
      <thead>
        <tr>
          <th ng-click="column='client_id'">Client ⧗</th>
          <th ng-click="column='status'">Status ⧗</th>
          <th ng-click="column='date'">Date ⧗</th>
          <th ng-click="column='total_cost'">Total Cost ⧗</th>
          <th ng-click="column='id'">Job # ⧗</th>
        </tr>
      </thead>
    </table>
    <div uib-accordion-group ng-init="status.open = $first"  is-open="status.open"  class="panel-default" ng-repeat="job in  (jc.jobs.list|orderBy:column|emptyToStart:'name')" aria-expanded="false" template-url="group-template.html">

      <!-- style="overflow-y: hidden" -->
      <uib-accordion-heading>
        <table class="table" align="center">
          <tbody>
            <tr>
              <td><i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': status.open, 'glyphicon-chevron-right': !status.open}"></i></td>
              <td class="col-xs-3" scope="row"> {{job.name}}</td>
              <td class="col-xs-3" scope="row">{{job.status}}</td>
              <td class="col-xs-3"scope="row">{{job.date}}</td>
              <td class="col-xs-3" scope="row">{{job.total_cost}}</td>
              <td class="col-xs-3" scope="row">{{job.id}}</td>
            </tr>
          </tbody>
        </table>
      </uib-accordion-heading>
      <form>
        <div class="form-group">
          <div class="col-xs-3">
            <label for="ex1">Client:</label>
          <select ng-model="job.client_id"
          ng-options="client.id as client.name for client in jc.clients.list">
          <option value="">Please select client name</option>
        </select>
          </div>
          <div class="col-xs-3">
            <label for="ex1">Status :</label>
          <select ng-model="job.status">
          <option value="">Please select status</option>
          <option value="quote">Quote</option>
          <option value="active">Active</option>
          <option value="cancelled">Cancelled</option>
          <option value="complete">Complete</option>
        </select>
          </div>
          <div class="col-xs-3">
            <label for="ex7">Date:</label>
            <input ng-model="job.date" class="form-control" id="ex7" type="text">
          </div>
          <div class="col-xs-10">
            <label for="ex1">Task 1:</label>
            <input ng-model="job.task_1" class="form-control" id="ex1" type="text">
          </div>
          <div class="col-xs-10">
            <label for="ex2">Task_2:</label>
            <input ng-model="job.task_2" class="form-control" id="ex2" type="text">
          </div>
          <div class="col-xs-2">
            <label for="ex3">Tasks $:</label>
            <input ng-model="job.tasks_cost" class="form-control" id="ex3" type="text">
          </div>
          <div class="col-xs-10">
            <label for="ex4">Materials:</label>
            <input ng-model="job.materials" class="form-control" id="ex4" type="text">
          </div>
          <div class="col-xs-2">
            <label for="ex5">Materials $:</label>
            <input ng-model="job.materials_cost" class="form-control" id="ex5" type="text">
          </div>
          <div class="col-xs-2">
            <label for="ex6">Total $:</label>
            <input ng-model="job.total_cost" class="form-control" id="ex6" type="text">
          </div>

          <div class="btn-group" role="group" aria-label="Basic example">
            <button class="btn btn-danger" type="button" ng-click="jc.deleteJob(job.id)">Delete</button>
            <button class="btn btn-primary" type="button" ng-click="jc.saveJob(job)">Save</button>
          </div>
        </div><!-- end form group -->
      </form>


    </div>



  </uib-accordion>
</div>
